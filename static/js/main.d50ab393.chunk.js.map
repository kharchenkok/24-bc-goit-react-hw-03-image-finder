{"version":3,"sources":["component/imageGalleryItem/ImageGalleryItem.module.css","component/loadMoreButton/LoadMoreButton.module.css","component/modal/Modal.module.css","component/imageGallery/ImageGallery.module.css","component/loaderSpiner/LoaderSpiner.module.css","services/getFetch.js","component/imageGalleryItem/ImageGalleryItem.js","component/imageGallery/ImageGallery.js","component/loaderSpiner/LoaderSpiner.js","component/loadMoreButton/LoadMoreButton.js","component/modal/Modal.js","component/searchbar/Searchbar.js","component/gallery/Gallery.js","component/App.js","index.js","component/searchbar/Searchbar.module.css"],"names":["module","exports","getFetch","userQuery","currentPage","itemsPerPage","axios","get","process","then","resp","data","hits","map","id","webformatURL","largeImageURL","ImageGalleryItem","image","setLargeImage","className","style","src","alt","ImageGalleryItem__image","onClick","ImageGallery","images","uuidv4","LoaderSpiner","loader","type","color","height","width","timeout","Component","LoadMoreButton","loadMore","setCurrentPage","handleClick","a","Button","Button__load","join","Modal","e","target","dataset","name","props","onClose","handleKey","code","window","addEventListener","this","removeEventListener","Overlay","data-name","Searchbar","state","inputValue","handleInput","setState","value","handleFormSubmit","preventDefault","handleSearchFormSubmit","SearchForm","onSubmit","SearchForm__button","SearchForm__buttonLabel","onChange","SearchForm__input","autoComplete","autoFocus","placeholder","Gallery","loading","error","largeImageUrl","getImageFetch","prevState","catch","finally","query","url","prev","prevProp","length","scrollTo","top","document","documentElement","scrollHeight","behavior","message","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d50ab393.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3RR9z\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1b9Ug\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMoreButton_Button__y3eUW\",\"Button__load\":\"LoadMoreButton_Button__load__8YPqd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2Qftz\",\"Modal\":\"Modal_Modal__2Df29\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2QhU2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderSpiner_loader__3MVdu\"};","import axios from \"axios\";\r\n\r\n\r\nexport default function getFetch(userQuery, currentPage=1, itemsPerPage){\r\n    \r\n       return axios.get(\r\n        \r\n        `https://pixabay.com/api/?key=${process.env.REACT_APP_API_KEY}&q=${userQuery}&page=${currentPage}&per_page=${itemsPerPage}&image_type=photo`\r\n      )\r\n      .then(resp=>resp.data.hits.map(({id,webformatURL,largeImageURL})=>({id,webformatURL,largeImageURL}))\r\n      )\r\n   \r\n  };","import React from 'react';\r\nimport style from './ImageGalleryItem.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem ({ image, setLargeImage }){\r\n\r\n    const{webformatURL, largeImageURL} = image\r\n    return (\r\n      <li className={style.ImageGalleryItem}>\r\n        <img\r\n          src={webformatURL}\r\n          alt=\"super-gallery\"\r\n          className={style.ImageGalleryItem__image}\r\n          onClick={() => setLargeImage(largeImageURL)}\r\n        />\r\n      </li>\r\n    );\r\n  };\r\n  \r\n\r\n  ImageGalleryItem.propTypes = {\r\n    image: PropTypes.object.isRequired,\r\n    setLargeImage: PropTypes.func.isRequired,\r\n  };","import React from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport style from './ImageGallery.module.css'\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, setLargeImage }) => {\r\n    return (\r\n        <ul className={style.ImageGallery}>\r\n        {images.map(image => (\r\n          <ImageGalleryItem\r\n            key={uuidv4()}\r\n            image={image}\r\n            setLargeImage={setLargeImage}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string,\r\n    }),\r\n  ).isRequired,\r\n  setLargeImage: PropTypes.func.isRequired,\r\n};","import React, { Component } from 'react'\r\nimport Loader from 'react-loader-spinner'\r\nimport style from './LoaderSpiner.module.css'\r\n\r\nexport default class LoaderSpiner extends Component {\r\n    render() {\r\n        return (\r\n            <Loader\r\n            className={style.loader}\r\n            type=\"Watch\" color=\"#536488\" height={120} width={120}\r\n            timeout={3000} //3 secs\r\n          />\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport style from './LoadMoreButton.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst LoadMoreButton = ({loadMore,setCurrentPage}) => {\r\n  const handleClick= async ()=>{\r\n    await setCurrentPage()\r\n    loadMore()\r\n  }\r\n    return (\r\n        // <button className={[style.Button,style.Button__load].join(' ')} type=\"button\" onClick={loadMore} >\r\n         <button className={[style.Button,style.Button__load].join(' ')} type=\"button\" onClick={handleClick} >\r\n        Load more\r\n      </button>\r\n    );\r\n};\r\n\r\nexport default LoadMoreButton;\r\n\r\nLoadMoreButton.propTypes = {\r\n    loadMore: PropTypes.func.isRequired,\r\n    setCurrentPage: PropTypes.func.isRequired,\r\n  };","import React, { Component } from \"react\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Modal extends Component {\r\n  \r\n  componentDidMount() {\r\n    \r\n    window.addEventListener(\"keydown\", this.handleKey);\r\n  }\r\n  componentWillUnmount() {\r\n    \r\n    window.removeEventListener('keydown', this.handleKey);\r\n  }\r\n\r\n  handleClick = (e) => {\r\n    if (e.target.dataset.name !== \"overlay\") {\r\n      return;\r\n    }\r\n    this.props.onClose(null);\r\n  };\r\n\r\n  handleKey = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose(null);\r\n    }\r\n  };\r\n  render() {\r\n    // console.log(this.props);\r\n    return (\r\n      <div\r\n        className={style.Overlay}\r\n        data-name=\"overlay\"\r\n        onClick={this.handleClick}\r\n      >\r\n        <div className={style.Modal} data-name=\"modal\">\r\n          <img src={this.props.src} alt=\"large\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport style from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  handleInput = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.handleSearchFormSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} onSubmit={this.handleFormSubmit}>\r\n          <button type=\"submit\" className={style.SearchForm__button}>\r\n            <span className={style.SearchForm__buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleInput}\r\n            className={style.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nSearchbar.propTypes = {\r\n  handleSearchFormSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport getFetch from \"../../services/getFetch\";\r\nimport ImageGallery from \"../imageGallery/ImageGallery\";\r\nimport LoaderSpiner from \"../loaderSpiner/LoaderSpiner\";\r\nimport LoadMoreButton from \"../loadMoreButton/LoadMoreButton\";\r\nimport Modal from \"../modal/Modal\";\r\n\r\nimport Searchbar from \"../searchbar/Searchbar\";\r\n\r\nexport default class Gallery extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    currentPage: 1,\r\n    // currentPage: 0,\r\n    itemsPerPage: 12,\r\n    userQuery: \"\",\r\n    largeImageUrl: null,\r\n  };\r\n\r\n   componentDidUpdate(prevProp, prevState) {\r\n  \r\n\r\n    const { images, userQuery } = this.state;\r\n    \r\n    if (prevState.userQuery !== userQuery) {\r\n      this.setState({ loading: true });\r\n      // await this.setState(prev=>({currentPage:prev.currentPage+1}))\r\n      this.getImageFetch();\r\n    }\r\n    prevState.images.length !== images.length &&\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n  }\r\n  \r\n  getImageFetch = () => {\r\n\r\n\r\n    const { userQuery, currentPage, itemsPerPage } = this.state;\r\n\r\n    getFetch(userQuery, currentPage, itemsPerPage)\r\n      .then((image) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...image],\r\n          \r\n          // currentPage: prevState.currentPage + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n     \r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = (query) => {\r\n    this.setState({\r\n      images: [],\r\n      userQuery: query,\r\n      currentPage: 1,\r\n      // currentPage: 0,\r\n    });\r\n  };\r\n  setLargeImage = (url) => {\r\n    this.setState({ largeImageUrl: url });\r\n  };\r\n\r\n  setCurrentPage=()=>{\r\n    this.setState(prev=>({\r\n      currentPage: prev.currentPage + 1\r\n\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { images, loading, error, itemsPerPage, largeImageUrl } = this.state;\r\n    return (\r\n      <>\r\n        <Searchbar handleSearchFormSubmit={this.handleSearchFormSubmit} />\r\n        {error && <div>Sorry, something went wrong:{error.message}</div>}\r\n        {loading && <LoaderSpiner />}\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} setLargeImage={this.setLargeImage} />\r\n        )}\r\n        {images.length >= itemsPerPage && (\r\n          // <LoadMoreButton loadMore={this.getImageFetch}/>\r\n          <LoadMoreButton loadMore={this.getImageFetch} setCurrentPage={this.setCurrentPage}/>\r\n        )}\r\n        {largeImageUrl && (\r\n          <Modal onClose={this.setLargeImage} src={largeImageUrl} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Gallery from \"./gallery/Gallery\";\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Gallery/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App';\n\n\nimport './index.css';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__R3VAC\",\"SearchForm\":\"Searchbar_SearchForm__3_LPS\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3FP31\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__2K5fA\",\"SearchForm__input\":\"Searchbar_SearchForm__input__97wYK\"};"],"sourceRoot":""}